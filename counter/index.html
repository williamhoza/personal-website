<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <button onclick="main();">
      Show Notification
    </button>
    
    <div id="log">?</div>
    
    <script>
      async function main() {
        document.querySelector("#log").innerHTML = navigator.serviceWorker;
        const swReg = await navigator.serviceWorker.register("sw.js");
        const permission = await window.Notification.requestPermission();
        if (permission == "granted") {
          swReg.showNotification("Test Title", {"body": "Hello World"});
        }
      }
    </script>
  </body>
</html>
